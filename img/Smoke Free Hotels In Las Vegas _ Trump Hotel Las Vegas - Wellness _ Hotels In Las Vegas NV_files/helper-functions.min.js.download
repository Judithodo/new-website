function successful(e){return void 0!==e.data&&"1"===e.data["@attributes"].success}Handlebars.registerHelper("translate",function(e,t){var r=e.toLowerCase();return console.log(r,TRANSLATIONS[r],TRANSLATIONS[r][t]),void 0!==TRANSLATIONS[r]&&void 0!==TRANSLATIONS[r][t]?TRANSLATIONS[r][t]:e}),Handlebars.registerHelper("trimString",function(e,t,r){var n=e.substring(t,r);return new Handlebars.SafeString(n)}),Handlebars.registerHelper("compare",function(e,t,r,n){var o;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===n&&(n=r,r=t,t="==="),!(o={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},typeof:function(e,t){return typeof e==t}})[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return o[t](e,r)?n.fn(this):n.inverse(this)});var formatCurrency=function(){var e={USD:"$",GBP:"£",EUR:"€",JPY:"¥",BRL:"R$"};function t(t,r,n,o){console.log("format",t,r,n,o);var i=parseFloat(t).toFixed(2);return o&&(i=parseInt(i)),e[r]?(i=e[r]+i,n&&null!=r&&(i+=" "+r)):n&&null!=r&&(i+=" "+r),i}return $(function(){$("span[data-format-currency]").each(function(){var e=$(this),r=e.attr("data-format-currency");e.text(t(e.text(),r))})}),t}(),_getTranslations=function(){return $.ajax({type:"GET",url:"/templates/main/js/translations.json",dataType:"json",cache:!1})};function sortText(e,t){var r=e.toLowerCase(),n=t.toLowerCase();return r<n?-1:r>n?1:0}function getQueryVariable(e,t){for(var r=(t||window.location.search).substring(1).split("&"),n=0;n<r.length;n++){var o=r[n].split("=");if(o[0]==e)return o[1]}return""}function isTouchSupported(){var e=window.navigator.msMaxTouchPoints,t="ontouchstart"in document.createElement("div");return!(!e&&!t)}function createCookie(e,t,r){if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var o="; expires="+n.toGMTString()}else o="";document.cookie=e+"="+t+o+"; path=/"}function readCookie(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function notContains(e,t){for(var r=0;r<e.length;r++)if(e[r].toLowerCase()===t.toLowerCase())return!1;return!0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function getHeight(){return $(this).innerHeight()}function daydiff(e,t){return(t-e)/864e5}function convertDateStr(e,t){if(void 0===e)return"";var r=e.split("-"),n=t||"-";if(3===r.length){if(4===r[0].length)return r[1]+n+r[2]+n+r[0];if(4===r[2].length)return r[2]+n+r[0]+n+r[1]}}function dateFormatStr(e,t){return moment(e).format(t)}function fixArray(e){return void 0===e.length&&(temp=e,e=[temp]),e}function successful(e){return void 0!==e.data&&"1"===e.data["@attributes"].success}function sabreDateFormat(e){return moment(e).format("YYYY-MM-DD")}$.fn.waveLoader=function(e){var t=$.extend({},{bars:5,overlay:!0,fixedHeight:!0},e);return this.each(function(){var e=$(this),r=e.height(),n=$('<div class="loading-overlay" />'),o=$('<div class="spinning spinner-wave" />');for(i=0;i<t.bars;i++)o.append("<div />");t.overlay?(t.fixedHeight&&(n.height(r),n.css("position","fixed")),n.html(o),e.append(n)):e.html(o)})},$.arrayIntersect=function(e,t){return $.grep(e,function(e){return $.inArray(e,t)>-1})},Object.size=function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r},contentTopMargin=function(){return Math.ceil($(".header-wrapper").outerHeight()+$(".booking-console-wrapper").outerHeight()+$(".masthead img.mast").height())},$.fn.roomWrapperAdjust=function(){$(this).find(".room-wrapper:visible").each(function(e){var t=$(this),r=0;e%2!=0&&(t.prev(".room-wrapper:visible").innerHeight()>t.innerHeight()?window.outerWidth<=1024?(r=t.prev(".room-wrapper:visible").find(".room-setup").innerHeight(),t.find(".room-info > .row").removeAttr("style"),t.find(".room-setup").height(r)):(r=t.prev(".room-wrapper:visible").find(".room-info").innerHeight(),t.find(".room-setup").removeAttr("style"),t.find(".room-info > .row").height(r)):t.prev(".room-wrapper:visible").innerHeight()<t.innerHeight()&&(window.outerWidth<=1024?(r=t.find(".room-setup").innerHeight(),t.find(".room-info > .row").removeAttr("style"),t.prev(".room-wrapper:visible").find(".room-setup").height(r)):(r=t.find(".room-info > .row").innerHeight(),t.find(".room-setup").removeAttr("style"),t.prev(".room-wrapper:visible").find(".room-info > .row").height(r))))})},$.fn.addOnWrapperAdjust=function(){$(this).find("> .row:visible").each(function(e){var t=$(this),r=Math.max.apply(Math,t.find(".addon-content").map(getHeight));t.find(".addon-content").height(r)})},$.fn.shorten=function(e){var t={showChars:88,ellipsesText:"...",moreText:"View Details",lessText:"Hide Details"};return e&&$.extend(t,e),$(document).off("click",".morelink"),$(document).on({click:function(e){e.preventDefault();var r=$(this);return r.hasClass("less")?(r.removeClass("less"),r.html(t.moreText)):(r.addClass("less"),r.html(t.lessText)),r.parent().prev().toggle(),r.prev().toggle(),!1}},".morelink"),this.each(function(){var e=$(this);if(!e.hasClass("shortened")){e.addClass("shortened");var r=e.html();if(r.length>t.showChars){var n=r.indexOf(" ",t.showChars),o=r.substring(0,n),i=r.substring(n,r.length),a=o+'<span class="moreellipses">'+t.ellipsesText+' </span><span class="morecontent"><span>'+i+'</span> <a href="#" class="morelink">'+t.moreText+"</a></span>";e.html(a),$(".morecontent span").hide()}}})},$.fn.errorAlert=function(e){var t=$.extend({},{id:"",msg:"Uh oh! An error occured.",lightbox:!1,onClose:function(){}},e);return this.each(function(){if(t.lightbox)$("body").append('<div id="icbe-lightbox" class="tight-close"><div class="lightbox-content-wrapper"><div class="lightbox-content"><div class="lightbox-form-wrapper text-center"><h2 class="alert">Oops! Error</h2><p>'+t.msg+'</p></div></div><a class="close-button" href="#" title="Close Button"><span class="close-icon"><span class="icon"></span><span class="icon"></span></span></a></div></div>').css("overflow","hidden"),$("#icbe-lightbox").addClass("active"),$("#icbe-lightbox").on("click",".close-button, .close",function(e){e.preventDefault(),$(this).closest("#icbe-lightbox").removeClass("active"),$("body").removeAttr("style").find("#icbe-lightbox").remove(),"function"==typeof t.onClose&&t.onClose()});else{var e=$('<div class="alert-box alert fixed"><a href="#" class="close">&#215;</a></div>'),r="ERROR: "+t.msg;""!==t.id&&(r="ERROR: "+t.msg),e.prepend(r),$(this).append(e).find(e).addClass("shown")}})},Handlebars.registerHelper("generateOpenAnchor",function(e){if(arguments.length<1)throw new Error("Handlerbars Helper 'generateOpenAnchor' needs context");return e["@attributes"].url||e["@attributes"].infolink||!e["@attributes"].permalink?e["@attributes"].url?new Handlebars.SafeString('<a href="'+e["@attributes"].url+'" class="row">'):new Handlebars.SafeString('<a href="'+e["@attributes"].infolink+'" class="row">'):new Handlebars.SafeString('<a href="/specials/'+e["@attributes"].permalink+'" class="row">')});