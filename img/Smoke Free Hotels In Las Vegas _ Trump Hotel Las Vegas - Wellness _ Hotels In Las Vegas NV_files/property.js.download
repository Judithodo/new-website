"use strict";$(document).ready(function(){function e(){function e(e){$(".minigallery:not(.minigallery-single)").on("beforeChange",function(e,a,t,i){1==l.getPlayerState()&&l.pauseVideo()})}l=new YT.Player("youtubevideo",{events:{onReady:e}})}if($("body").hasClass("home")&&Foundation.MediaQuery.atLeast("large")){var a=$(window).height()-$(".header-property").height()-$(".header-trumphotels").height();$(".masthead-wrapper").height(a)}$(window).on("resize",function(){$("body").hasClass("home")&&Foundation.MediaQuery.atLeast("large")?(a=$(window).height()-$(".header-property").height()-$(".header-trumphotels").height(),$(".masthead-wrapper").height(a)):$(".masthead-wrapper").height("auto")});var t=$(".header-trumphotels"),i=function(){$(window).scrollTop()>=t.height()?$("body").addClass("header-stuck"):$("body").removeClass("header-stuck")};i(),$(window).scroll(function(e){i()});var o=$(".rotatingpush-image");$(".slidingpush-image");$(".rotatingpush-counter").css("top",o.height()),$(".rotatingpush-wrapper").on("init",function(e){TweenMax.set($(".rotatingpush-caption"),{xPercent:"0%",yPercent:"0%",opacity:1}),TweenMax.set($(".rotatingpush-line"),{height:"100%"})}),$(".rotatingpush-wrapper").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,speed:1e3,dots:!1,adaptiveHeight:!0,mobileFirst:!0,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0,responsive:[{breakpoint:668,settings:{adaptiveHeight:!1}}]}),$(".rotatingpush-wrapper").on("afterChange",function(e,a,t){TweenMax.to($(".rotatingpush-counter .current"),.3,{opacity:0,onComplete:function(){$(".rotatingpush-counter .current").text(t+1),TweenMax.to($(".rotatingpush-counter .current"),.3,{opacity:1}),TweenMax.to($(".rotatingpush-line"),.6,{delay:.6,height:"100%"})}}),TweenMax.to($(".slick-active .rotatingpush-caption"),.6,{delay:.9,opacity:1,xPercent:"0%",yPercent:"0%",ease:Sine.easeInOut})}),$(".rotatingpush-wrapper").on("beforeChange",function(e,a,t,i){TweenMax.to($(".rotatingpush-line"),.3,{height:"0%"}),TweenMax.to($(".rotatingpush-caption"),.3,{opacity:0,xPercent:"20%",yPercent:"0%",ease:Sine.easeInOut})}),$(".rotatingpush-wrapper").on("setPosition",function(e){$(".rotatingpush-counter").css("top",o.height()),Foundation.MediaQuery.atLeast("medium")&&($(this).find(".slick-prev").css("top",o.height()),$(this).find(".slick-next").css("top",o.height()))});var s=function(){$(".slidingpush-navitem").length>1&&$(".slidingpush-nav").slick({slidesToShow:3,slidesToScroll:1,centerMode:!0,arrows:!1,fade:!1,dots:!1,focusOnSelect:!0,centerPadding:"0%"}),$(".slidingpush-wrapper").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,dots:!1,mobileFirst:!0,adaptiveHeight:!0,responsive:[{breakpoint:567,settings:{slidesToShow:2,slidesToScroll:2,fade:!1}}]}),$(".slidingpush-wrapper").on("setPosition",function(e){$(this).find(".slick-prev").css("top",$(".slidingpush-image").height()),$(this).find(".slick-next").css("top",$(".slidingpush-image").height())}),$(".slidingpush-wrapper").slick("slickFilter",".active")};"small"==Foundation.MediaQuery.current&&s(),$(window).on("changed.zf.mediaquery",function(e,a){"small"==a?s():setTimeout(function(){$(".slidingpush-wrapper").hasClass("slick-slider")&&($(".slidingpush-wrapper").slick("slickUnfilter"),$(".slidingpush-wrapper").slick("unslick")),$(".slidingpush-nav").hasClass("slick-slider")&&$(".slidingpush-nav").slick("unslick")},300)}),$(".slidingpush-nav a").click(function(e){e.preventDefault();var a=$(this).data("pushsection"),t=$(".slidingpush-wrapper");if(!$(this).hasClass("active"))if($(".slidingpush-nav .active").removeClass("active"),$(this).addClass("active"),Foundation.MediaQuery.atLeast("medium")){var i=new TimelineMax({overwrite:"all"});i.set(t.find(".slidingpush-item"),{clearProps:"all"}),i.to(t.find(".active"),.75,{opacity:0,ease:Expo.easeInOut,force3D:!1,onComplete:function(){t.find(".active").removeClass("active")}}),i.staggerFrom($('.slidingpush-item[data-pushsection="'+a+'"]').get().reverse(),.75,{x:-t.outerWidth(),ease:Expo.easeInOut,force3D:!1,onStart:function(){t.find('.slidingpush-item[data-pushsection="'+a+'"]').addClass("active")}},.3)}else $(".slidingpush-wrapper").slick("slickUnfilter"),t.find(".active").removeClass("active"),t.find('.slidingpush-item[data-pushsection="'+a+'"]').addClass("active"),$(".slidingpush-wrapper").slick("slickFilter",".active")}),$(".slidingpush-cta a").on("focus",function(e){$(".slidingpush-item").removeClass("hover"),$(this).parents(".slidingpush-item").addClass("hover")}),$(".slidingpush-cta a").on("blur",function(e){$(".slidingpush-item").removeClass("hover")}),$(".floorplans-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!1,dots:!1}).on("afterChange",function(e,a){var t=$('.floorplans-plan[data-slick-index="'+a.currentSlide+'"]').data("floorplan");$(".floorplans-nav").each(function(){$(this).find(".active").removeClass("active"),$(this).find('a[data-floorplan="'+t+'"]').addClass("active")}),$(".floorplans-copy.active").removeClass("active"),$('.floorplans-copy[data-floorplan="'+t+'"]').addClass("active")}),$(".floorplans-nav a").click(function(e){e.preventDefault();var a=$(this).data("floorplan"),t=$('.floorplans-plan[data-floorplan="'+a+'"]').data("slick-index");$(".floorplans-nav").each(function(){$(this).find(".active").removeClass("active"),$(this).find('a[data-floorplan="'+a+'"]').addClass("active")}),$(".floorplans-slider").slick("slickGoTo",t),$(".floorplans-copy.active").removeClass("active"),$('.floorplans-copy[data-floorplan="'+a+'"]').addClass("active")}),$(".floorplansmodal-reveal").on("open.zf.reveal",function(e){var a=$(this).data("lazy");$(this).find(".floorplansmodal-image").attr("src",a)});var n=function(){$(".golfcourseholes-nav").slick({slidesToShow:5,slidesToScroll:1,arrows:!0,fade:!1,dots:!1,focusOnSelect:!0}),$(".golfcourseholes-nav").on("beforeChange",function(e,a,t,i){$('.golfcourseholes-hole[data-slick-index="'+i+'"] a').click()})};$(".golfcourseholes a").click(function(e){e.preventDefault();var a=$(this).data("hole"),t=$('.golfcourseholes-hole[data-hole="'+a+'"]').data("slick-index");$(".floorplans-slider").slick("slickGoTo",t),$(".golfcourse.active, .golfcourseholes-hole .active").removeClass("active"),$('.golfcourse[data-hole="'+a+'"], a[data-hole="'+a+'"]').addClass("active")}),$(".golfcourseholes-arrow").click(function(){var e=$(".golfcourseholes-hole .active").parent();$(this).hasClass("golfcourseholes-prev")?e.prev(".golfcourseholes-hole").find("a").click():e.next(".golfcourseholes-hole").find("a").click(),$(".golfcourseholes-hole:first-child a").hasClass("active")?$(".golfcourseholes-prev").addClass("disabled"):$(".golfcourseholes-hole:last-child a").hasClass("active")?$(".golfcourseholes-next").addClass("disabled"):($(".golfcourseholes-next").removeClass("disabled"),$(".golfcourseholes-prev").removeClass("disabled"))}),"small"==Foundation.MediaQuery.current&&n(),$(window).on("changed.zf.mediaquery",function(e,a){"small"==a?n():setTimeout(function(){$(".golfcourseholes-nav").hasClass("slick-initialized")&&$(".golfcourseholes-nav").slick("unslick")},300)}),$(".spalisting-expand").click(function(e){e.preventDefault();var a=$(this),t=$(this).parent().find(".spalisting-button button");a.parent().hasClass("is-active")?(a.parent().removeClass("is-active"),t.toggleClass("tcon-transform"),a.parent().find(".spalisting-info").slideUp()):(a.parent().addClass("is-active"),t.toggleClass("tcon-transform"),a.parent().find(".spalisting-info").slideDown())}),$(".minigallery:not(.minigallery-single)").slick({slidesToShow:1,slidesToScroll:1,centerMode:!0,arrows:!0,fade:!1,dots:!1,focusOnSelect:!0,centerPadding:"17.5%",prevArrow:'<button class="minigallery-prev" aria-label="Previous"><svg class="svg-arrow" xmlns="http://www.w3.org/2000/svg" width="13" height="25" viewBox="0 0 13.661 25"><path fill="#fff" d="M13.66 12.49L1.217 0 0 .302 12.153 12.5 0 24.698 1.216 25 13.66 12.51l-.04-.01"/></svg></button>',nextArrow:'<button class="minigallery-next" aria-label="Next"><svg class="svg-arrow" xmlns="http://www.w3.org/2000/svg" width="13" height="25" viewBox="0 0 13.661 25"><path fill="#fff" d="M13.66 12.49L1.217 0 0 .302 12.153 12.5 0 24.698 1.216 25 13.66 12.51l-.04-.01"/></svg></button>',responsive:[{breakpoint:668,settings:{centerPadding:0,fade:!0,adaptiveHeight:!0}}]}),console.log("test"),$(".minigallery *").keyup(function(e){console.log("keyup"),"9"==(e.keyCode||e.which)&&(console.log("add class",$(this),$(":focus")),console.log($(":focus").parents(".minigallery-item").html()),$(":focus").parents(".minigallery-item").addClass("focused"))}),$(".minigallery-item").hover(function(){$(this).prev().hasClass("slick-active")?$(".minigallery-next").addClass("hover"):$(this).next().hasClass("slick-active")&&$(".minigallery-prev").addClass("hover")},function(){$(".minigallery-next, .minigallery-prev").removeClass("hover")}),1==$("#youtubevideo").length&&function(){if("undefined"==typeof YT||void 0===YT.Player){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t),window.onYouTubePlayerAPIReady=function(){e()}}else e()}();var l,r=new Ballyhoo($(".media-gallery"),{dataSource:"/ajax/gallery?propertyid="+$("body").data("propertyid")+"&pageid="+$("body").data("gallery")+"&languageid="+$("body").data("lang"),clientName:$("body").data("property"),galleryName:"maingallery",showInfo:!0,showTiles:!0});$(".gallery-launch").on("click",function(e){e.preventDefault(),console.log("gal launch"),r.launch({launchIncontext:$(this).attr("data-launch-incontext"),galleryName:$(this).attr("data-gallery-name")})});var d=new Ballyhoo($(".media-gallery"),{dataSource:"/ajax/gallery?propertyid="+$("body").data("propertyid")+"&pageid="+$("body").data("gallery")+"&languageid="+$("body").data("lang"),clientName:$("body").data("property"),galleryName:"catgallery",showInfo:!0,showTiles:!0});if($(".gallery-launchcat").on("click",function(e){e.preventDefault(),d.launch({launchIncontext:$(this).attr("data-launch-incontext"),galleryName:$(this).attr("data-gallery-name"),startingIndex:$(this).attr("data-gallery-index"),startCategory:$(this).attr("data-starting-category")})}),$(".standalonegallery-launch").each(function(){var e=$(this).data("pageid"),a=new Ballyhoo($(".media-gallery"),{dataSource:"/ajax/gallery?propertyid="+$("body").data("propertyid")+"&pageid="+e+"&languageid="+$("body").data("lang"),clientName:$("body").data("property"),galleryName:"standalonegallery_"+e,showInfo:!0,showTiles:!0});if($(this).on("click",function(t){t.preventDefault(),a.launch({launchIncontext:$(this).attr("data-launch-incontext"),galleryName:"standalonegallery_"+e})}),window.location.hash&&""!==window.location.hash){var t=_parseHash();t.galleryName=="standalonegallery_"+e&&a.launch(t)}}),window.location.hash&&""!==window.location.hash){var c=_parseHash();"maingallery"==c.galleryName?r.launch(c):"catgallery"==c.galleryName&&d.launch(c)}$(".destination").each(function(e){var a=e+1;$(this).attr("style","-webkit-box-ordinal-group: "+(a+1)+";-webkit-order: "+a+";-ms-flex-order: "+a+";order: "+a+";")}),$(".destination-title, .destination-expand").click(function(){var e=$(this).parents(".destination"),a=e.find(".destination-expand .tcon"),t=0;if(e.hasClass("is-active"))a.toggleClass("tcon-transform"),e.removeClass("is-active");else{var i=$(".destination.is-active"),o=$(".destination.is-active .tcon");i.find(".destination-expand").text(a.data("toggle-open")),i.removeClass("is-active"),o.toggleClass("tcon-transform"),i.attr("style","-webkit-box-ordinal-group: "+(i.index()+1)+";-webkit-order: "+i.index()+";-ms-flex-order: "+i.index()+";order: "+i.index()+";"),a.toggleClass("tcon-transform"),e.addClass("is-active")}if(e.hasClass("odd")&&Foundation.MediaQuery.atLeast("medium")){if(console.log(e.index()),e.hasClass("is-active"))var t=e.index()-2;else var t=e.index();e.attr("style","-webkit-box-ordinal-group: "+(t+1)+";-webkit-order: "+t+";-ms-flex-order: "+t+";order: "+t+";")}}),$(".map-outer-div").each(function(){function e(){var e=window.location.pathname,a=15;"/turnberry"===e&&(a=8),console.log(a);var t=$(".map-outer-div").data("latitude"),i=$(".map-outer-div").data("longitude"),o=$(".map-outer-div").data("title"),s=new google.maps.LatLng(t,i),n={center:s,zoom:a,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,panControl:!1,zoomControl:!0,streetViewControl:!1,scrollwheel:!1},l=new google.maps.Map(document.getElementById("map-canvas"),n);if("medium"==Foundation.MediaQuery.current){var r=l.getBounds().toSpan(),d={lat:s.lat()+0*r.lat(),lng:s.lng()+-.25*r.lng()};l.panTo(d)}var c=new google.maps.Marker({position:s,map:l,icon:"/templates/main/images/svgs/map-home.svg"});if(o){var p='<div id="content"><div id="bodyContent">'+o+"</div></div>",h=new google.maps.InfoWindow({content:p});google.maps.event.addListener(c,"click",function(){h.open(l,c)})}}google.maps.event.addDomListener(window,"load",e)}),$("#property-rfp").change(function(e){var a=$("select#property-rfp option:selected").val();$("#rfp-container").html(""),null!=a&&($("#rfp-container").html(""),$("#rfp-container").append('<iframe id="rfp-iframe" style="width: 100%; height: 1237px; overflow: hidden;"/>'),$("#rfp-iframe").attr("src",a))})});